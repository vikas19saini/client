{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Projects\\\\client\\\\src\\\\pages\\\\category\\\\[slug].js\";\nimport Header from \"../header\";\nimport Footer from \"../footer\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { wrapper } from \"../../redux/store\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport SubCategory from \"../../components/subCategory\";\nimport Products from \"../../components/products\";\nexport default function Category(props) {\n  const {\n    0: haveSubCategories,\n    1: setHaveSubCategories\n  } = useState(true);\n  console.log(props);\n  useEffect(() => {\n    setHaveSubCategories(category.descendents.length > 0 ? true : false);\n  }, [category]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: category.metaTitle ? category.metaTitle : category.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: category.metaDescription ? category.metaDescription : category.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      shadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), haveSubCategories ? /*#__PURE__*/_jsxDEV(SubCategory, {\n      category: category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 38\n    }, this) : /*#__PURE__*/_jsxDEV(Products, {\n      category: category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 78\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n}\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  try {\n    let category = await axios.get(`${process.env.API_URL}category/${context.params.slug}`);\n    category = category.data;\n    let data = {\n      category: category,\n      layout: category.descendents.length > 0 ? \"subCategory\" : \"products\"\n    };\n    return {\n      props: data\n    };\n  } catch (error) {\n    return {\n      notFound: true\n    };\n  }\n});","map":{"version":3,"sources":["D:/Projects/client/src/pages/category/[slug].js"],"names":["Header","Footer","Fragment","useEffect","useState","wrapper","axios","Head","SubCategory","Products","Category","props","haveSubCategories","setHaveSubCategories","console","log","category","descendents","length","metaTitle","name","metaDescription","description","getServerSideProps","context","get","process","env","API_URL","params","slug","data","layout","error","notFound"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,QAA9B,QAA8C,OAA9C;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACpC,QAAM;AAAA,OAACC,iBAAD;AAAA,OAAoBC;AAApB,MAA4CT,QAAQ,CAAC,IAAD,CAA1D;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,oBAAoB,CAACG,QAAQ,CAACC,WAAT,CAAqBC,MAArB,GAA8B,CAA9B,GAAkC,IAAlC,GAAyC,KAA1C,CAApB;AACH,GAFQ,EAEN,CAACF,QAAD,CAFM,CAAT;AAIA,sBACI,QAAC,QAAD;AAAA,4BACI,QAAC,IAAD;AAAA,8BACI;AAAA,kBAAQA,QAAQ,CAACG,SAAT,GAAqBH,QAAQ,CAACG,SAA9B,GAA0CH,QAAQ,CAACI;AAA3D;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAEJ,QAAQ,CAACK,eAAT,GAA2BL,QAAQ,CAACK,eAApC,GAAsDL,QAAQ,CAACM;AAAjG;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAKI,QAAC,MAAD;AAAQ,MAAA,MAAM;AAAd;AAAA;AAAA;AAAA;AAAA,YALJ,EAOQV,iBAAiB,gBAAI,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEI;AAAvB;AAAA;AAAA;AAAA;AAAA,YAAJ,gBAA4C,QAAC,QAAD;AAAU,MAAA,QAAQ,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA,YAPrE,eASI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YATJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH;AAED,OAAO,MAAMO,kBAAkB,GAAGlB,OAAO,CAACkB,kBAAR,CAA2B,MAAOC,OAAP,IAAmB;AAC5E,MAAI;AACA,QAAIR,QAAQ,GAAG,MAAMV,KAAK,CAACmB,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,OAAQ,YAAWJ,OAAO,CAACK,MAAR,CAAeC,IAAK,EAAhE,CAArB;AACAd,IAAAA,QAAQ,GAAGA,QAAQ,CAACe,IAApB;AAEA,QAAIA,IAAI,GAAG;AACPf,MAAAA,QAAQ,EAAEA,QADH;AAEPgB,MAAAA,MAAM,EAAEhB,QAAQ,CAACC,WAAT,CAAqBC,MAArB,GAA8B,CAA9B,GAAkC,aAAlC,GAAkD;AAFnD,KAAX;AAKA,WAAO;AACHP,MAAAA,KAAK,EAAEoB;AADJ,KAAP;AAGH,GAZD,CAYE,OAAOE,KAAP,EAAc;AACZ,WAAO;AACHC,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;AACJ,CAlBiC,CAA3B","sourcesContent":["import Header from \"../header\"\r\nimport Footer from \"../footer\"\r\nimport { Fragment, useEffect, useState } from \"react\"\r\nimport { wrapper } from \"../../redux/store\"\r\nimport axios from \"axios\"\r\nimport Head from \"next/head\"\r\nimport SubCategory from \"../../components/subCategory\"\r\nimport Products from \"../../components/products\"\r\n\r\nexport default function Category(props) {\r\n    const [haveSubCategories, setHaveSubCategories] = useState(true)\r\n    console.log(props);\r\n\r\n    useEffect(() => {\r\n        setHaveSubCategories(category.descendents.length > 0 ? true : false)\r\n    }, [category])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Head>\r\n                <title>{category.metaTitle ? category.metaTitle : category.name}</title>\r\n                <meta name=\"description\" content={category.metaDescription ? category.metaDescription : category.description} />\r\n            </Head>\r\n            <Header shadow />\r\n            {\r\n                haveSubCategories ? (<SubCategory category={category} />) : (<Products category={category} />)\r\n            }\r\n            <Footer />\r\n        </Fragment >\r\n    );\r\n}\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\r\n    try {\r\n        let category = await axios.get(`${process.env.API_URL}category/${context.params.slug}`)\r\n        category = category.data\r\n\r\n        let data = {\r\n            category: category,\r\n            layout: category.descendents.length > 0 ? \"subCategory\" : \"products\"\r\n        }\r\n\r\n        return {\r\n            props: data\r\n        }\r\n    } catch (error) {\r\n        return {\r\n            notFound: true,\r\n        }\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\Projects\\\\client\\\\src\\\\components\\\\paycard\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport CForm from './components/form';\nimport Card from './components/card';\nvar initialState = {\n  cardNumber: '#### #### #### ####',\n  cardHolder: 'FULL NAME',\n  cardMonth: '',\n  cardYear: '',\n  cardCvv: '',\n  isCardFlipped: false\n};\n\nvar MainScreen = function MainScreen() {\n  _s();\n\n  var _useState = useState(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useState2 = useState(null),\n      currentFocusedElm = _useState2[0],\n      setCurrentFocusedElm = _useState2[1];\n\n  var updateStateValues = useCallback(function (keyName, value) {\n    setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, keyName, value || initialState[keyName])));\n  }, [state]); // References for the Form Inputs used to focus corresponding inputs.\n\n  var formFieldsRefObj = {\n    cardNumber: useRef(),\n    cardHolder: useRef(),\n    cardDate: useRef(),\n    cardCvv: useRef()\n  };\n  var focusFormFieldByKey = useCallback(function (key) {\n    formFieldsRefObj[key].current.focus();\n  }); // This are the references for the Card DIV elements.\n\n  var cardElementsRef = {\n    cardNumber: useRef(),\n    cardHolder: useRef(),\n    cardDate: useRef()\n  };\n\n  var onCardFormInputFocus = function onCardFormInputFocus(_event, inputName) {\n    var refByName = cardElementsRef[inputName];\n    setCurrentFocusedElm(refByName);\n  };\n\n  var onCardInputBlur = useCallback(function () {\n    setCurrentFocusedElm(null);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(CForm, {\n      cardMonth: state.cardMonth,\n      cardYear: state.cardYear,\n      onUpdateState: updateStateValues,\n      cardNumberRef: formFieldsRefObj.cardNumber,\n      cardHolderRef: formFieldsRefObj.cardHolder,\n      cardDateRef: formFieldsRefObj.cardDate,\n      onCardInputFocus: onCardFormInputFocus,\n      onCardInputBlur: onCardInputBlur,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        cardNumber: state.cardNumber,\n        cardHolder: state.cardHolder,\n        cardMonth: state.cardMonth,\n        cardYear: state.cardYear,\n        cardCvv: state.cardCvv,\n        isCardFlipped: state.isCardFlipped,\n        currentFocusedElm: currentFocusedElm,\n        onCardElementClick: focusFormFieldByKey,\n        cardNumberRef: cardElementsRef.cardNumber,\n        cardHolderRef: cardElementsRef.cardHolder,\n        cardDateRef: cardElementsRef.cardDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(MainScreen, \"SFfV7ZZLctWWtEzbWy2v2qZhazw=\");\n\n_c = MainScreen;\nexport default MainScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainScreen\");","map":{"version":3,"sources":["D:/Projects/client/src/components/paycard/index.js"],"names":["React","useState","useRef","useCallback","CForm","Card","initialState","cardNumber","cardHolder","cardMonth","cardYear","cardCvv","isCardFlipped","MainScreen","state","setState","currentFocusedElm","setCurrentFocusedElm","updateStateValues","keyName","value","formFieldsRefObj","cardDate","focusFormFieldByKey","key","current","focus","cardElementsRef","onCardFormInputFocus","_event","inputName","refByName","onCardInputBlur"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport CForm from './components/form';\nimport Card from './components/card';\n\nconst initialState = {\n    cardNumber: '#### #### #### ####',\n    cardHolder: 'FULL NAME',\n    cardMonth: '',\n    cardYear: '',\n    cardCvv: '',\n    isCardFlipped: false\n};\n\nconst MainScreen = () => {\n    const [state, setState] = useState(initialState);\n    const [currentFocusedElm, setCurrentFocusedElm] = useState(null);\n\n    const updateStateValues = useCallback(\n        (keyName, value) => {\n            setState({\n                ...state,\n                [keyName]: value || initialState[keyName]\n            });\n        },\n        [state]\n    );\n\n    // References for the Form Inputs used to focus corresponding inputs.\n    let formFieldsRefObj = {\n        cardNumber: useRef(),\n        cardHolder: useRef(),\n        cardDate: useRef(),\n        cardCvv: useRef()\n    };\n\n    let focusFormFieldByKey = useCallback((key) => {\n        formFieldsRefObj[key].current.focus();\n    });\n\n    // This are the references for the Card DIV elements.\n    let cardElementsRef = {\n        cardNumber: useRef(),\n        cardHolder: useRef(),\n        cardDate: useRef()\n    };\n\n    let onCardFormInputFocus = (_event, inputName) => {\n        const refByName = cardElementsRef[inputName];\n        setCurrentFocusedElm(refByName);\n    };\n\n    let onCardInputBlur = useCallback(() => {\n        setCurrentFocusedElm(null);\n    }, []);\n\n    return (\n        <div className=\"wrapper\">\n            <CForm\n                cardMonth={state.cardMonth}\n                cardYear={state.cardYear}\n                onUpdateState={updateStateValues}\n                cardNumberRef={formFieldsRefObj.cardNumber}\n                cardHolderRef={formFieldsRefObj.cardHolder}\n                cardDateRef={formFieldsRefObj.cardDate}\n                onCardInputFocus={onCardFormInputFocus}\n                onCardInputBlur={onCardInputBlur}\n            >\n                <Card\n                    cardNumber={state.cardNumber}\n                    cardHolder={state.cardHolder}\n                    cardMonth={state.cardMonth}\n                    cardYear={state.cardYear}\n                    cardCvv={state.cardCvv}\n                    isCardFlipped={state.isCardFlipped}\n                    currentFocusedElm={currentFocusedElm}\n                    onCardElementClick={focusFormFieldByKey}\n                    cardNumberRef={cardElementsRef.cardNumber}\n                    cardHolderRef={cardElementsRef.cardHolder}\n                    cardDateRef={cardElementsRef.cardDate}\n                ></Card>\n            </CForm>\n        </div>\n    );\n};\n\nexport default MainScreen;\n"]},"metadata":{},"sourceType":"module"}